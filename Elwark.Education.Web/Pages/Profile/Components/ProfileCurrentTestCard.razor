@* ReSharper disable once CheckNamespace *@
@namespace Elwark.Education.Web.Components

@using Elwark.Education.Web.Gateways.Models.User
@inject IStringLocalizer<App> L

<MudCard>
    <MudCardHeader>
        <CardHeaderAvatar>
            <SubjectIcon SubjectType="@Test.SubjectType" Size="Size.Small"/>
        </CardHeaderAvatar>
        <CardHeaderContent>
            <MudText Typo="Typo.body1">
                @L[Test.SubjectType.ToString()]
            </MudText>
        </CardHeaderContent>
    </MudCardHeader>
    <MudCardContent>
        <MudLink Typo="Typo.h6" Href="@Link">
            @Test.Title
        </MudLink>
        <MudText Typo="Typo.body2">
            @L["ExpireAt"]
            @Test.ExpiredAt.ToSimpleFormat()
        </MudText>
    </MudCardContent>
    <MudCardActions>
        <MudButton Link="@Link" Color="Color.Primary" Variant="Variant.Text">
            @L["Continue"]
        </MudButton>
    </MudCardActions>
</MudCard>

@code {

    [Parameter]
    public CurrentTest Test { get; set; } = default!;

    private string Link => Test.SubjectType switch {
        SubjectType.History => Links.History.Test(Test.Id),
        SubjectType.Physics => "#",
        SubjectType.Astronomy => "#",
        _ => "#"
        };

}