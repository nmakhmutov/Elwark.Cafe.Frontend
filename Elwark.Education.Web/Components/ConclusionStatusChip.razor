@using Elwark.Education.Web.Gateways.Models.TestConclusion
@inject IStringLocalizer<App> L

@if (IsOnlyText)
{
    <MudText Typo="Typo.subtitle1" Color="@_data.Color">
        @_data.Title
    </MudText>
}
else
{
    <MudChip Label="true" DisableRipple="true" Class="ma-0" Color="@_data.Color" Size="Size.Small">
        @_data.Title
    </MudChip>
}

@code {

    [Parameter]
    public ConclusionStatus Status { get; set; }

    [Parameter]
    public bool IsOnlyText { get; set; }

    private (string Title, Color Color) _data;

    protected override void OnParametersSet()
    {
        _data = Status switch {
            ConclusionStatus.Complete => (L["CompletedTests:Completed"], Color.Success),
            ConclusionStatus.TimeExceeded => (L["CompletedTests:TimeExceeded"], Color.Error),
            ConclusionStatus.RepliesExceeded => (L["CompletedTests:RepliesExceeded"], Color.Warning),
            _ => throw new ArgumentOutOfRangeException(nameof(Status), $@"Unknown status in {nameof(ConclusionStatusChip)}")
            };
    }

}
