@inject IStringLocalizer<App> L

<MudCard Class="d-flex flex-column justify-space-between">
    <MudCardMedia Image="@Image" Height="200"/>
    <MudCardContent>
        <MudLink Typo="Typo.subtitle1" Href="@Href">
            @Title
        </MudLink>
        @if (Subtitle is not null)
        {
            <MudText Typo="Typo.body2">
                @Subtitle
            </MudText>
        }
    </MudCardContent>
    @if (Progress is not null)
    {
        <div class="pa-2">
            <div class="progress" data-label="@(Progress.PassedArticles + " / " + Progress.TotalArticles)">
                <span class="value" style="width:@Progress.Percentage%; background-color: @Progress.Color;"></span>
            </div>
            <div class="d-flex flex-row justify-space-between mt-1">
                <div class="d-flex flex-row align-center">
                    @if (Progress.ExamCompletedAt.HasValue)
                    {
                        <MudIcon Icon="@Outlined.CheckCircleOutlineOutlined" Style="@("color:" + Progress.Color)"/>
                        <MudText Typo="Typo.body2" Class="ml-1">
                            @L["ExamPassed"]
                        </MudText>
                    }
                    else
                    {
                        <MudIcon Icon="@Outlined.RemoveCircleOutlineOutlined"/>
                        <MudText Typo="Typo.body2" Class="ml-1">
                            @L["ExamNotPassed"]
                        </MudText>
                    }
                </div>
                <MudText Typo="Typo.body2">
                    @Progress.Percentage%
                </MudText>
            </div>
        </div>
    }
</MudCard>

@code {

    [Parameter]
    public string Image { get; set; } = string.Empty;

    [Parameter]
    public string Href { get; set; } = string.Empty;

    [Parameter]
    public string Title { get; set; } = string.Empty;

    [Parameter]
    public string? Subtitle { get; set; }

    [Parameter]
    public TopicProgress? Progress { get; set; }

}